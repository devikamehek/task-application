{%extends 'base.html'%}
{%block title_block%}
<title>task-list</title>
{%endblock%}

{%block body_block%}
<div class="row">
    <div class="col-2"></div>
    <div class="col-8">
        <table class="table table-striped">
            <div class="text-decoration-underline text-success text-center">
                <h4>welcome {{request.user}}</h4>
            </div>

            {%for m in messages%}
            
            {%if m.level == DEFAULT_MESSAGE_LEVELS.ERROR%}

                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    <strong>{{m}}</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {%else%}
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    <strong>{{m}}</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {%endif%}

            {%endfor%}

            <caption class="caption-top">List of Tasks</caption>
            <tr>
                <th>sl no:</th>
                <th>Task Name</th>
                <th>User</th>
                <th>Status</th>
                <th>Created date</th>
                <th>Action</th>
            </tr>
            {%for t in tasks%}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{t.task_name}}</td>
                <td>{{t.user}}</td>
                <td>{{t.status}}</td>
                <td>{{t.created_date}}</td>
                <td>
                    <a href="{%url 'task-detail' t.id %}" class="btn btn-outline-info">View</a>
                    <!-- <a href="{%url 'task-edit' t.id %}" class="btn btn-outline-warning">Edit</a>
                    <a href="{%url 'task-delete' t.id %}" class="btn btn-outline-danger">Delete</a> -->
                    
                </td>
            </tr>
            {%endfor%}
        </table>
    </div>
    <div class="col-2"></div>
</div>
{%endblock%}